{# templates/categorie/show.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}{{ categorie.nomCategorie }} - Animalove{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
        :root { --primary: #10b981; --secondary: #3b82f6; }
        body { background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%); }
        
        /* Header */
        .header { background: rgba(255,255,255,0.95); backdrop-filter: blur(20px); box-shadow: 0 4px 20px rgba(0,0,0,0.08); position: sticky; top: 0; z-index: 100; }
        .nav-container { max-width: 1400px; margin: 0 auto; padding: 0 20px; display: flex; justify-content: space-between; align-items: center; height: 80px; }
        .logo { font-size: 32px; font-weight: 800; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-decoration: none; }
        .nav-links { display: flex; gap: 30px; list-style: none; }
        .nav-links a { color: #374151; text-decoration: none; font-weight: 600; transition: color 0.3s; }
        .nav-links a:hover, .nav-links a.active { color: var(--primary); }
        
        /* Hero Cat√©gorie */
        .hero { background: linear-gradient(135deg, rgba(16,185,129,0.9), rgba(59,130,246,0.8)); color: white; padding: 140px 20px 100px; text-align: center; position: relative; }
        .hero h1 { font-size: clamp(2.8rem, 6vw, 4.5rem); font-weight: 900; margin-bottom: 15px; }
        .hero-stats { display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; font-size: 1.3rem; margin-top: 20px; }
        .stat { text-align: center; }
        .stat-number { font-size: 2.5rem; font-weight: 900; display: block; }
        
        /* Filtres */
        .filters { background: white; padding: 30px 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.08); }
        .filters-container { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; }
        .category-breadcrumb { color: #6b7280; font-size: 1rem; }
        .filters-group { display: flex; gap: 15px; align-items: center; }
        .filter-btn { padding: 12px 24px; background: #f8fafc; color: #374151; border: 2px solid #e5e7eb; border-radius: 25px; font-weight: 600; cursor: pointer; transition: all 0.3s; white-space: nowrap; }
        .filter-btn.active, .filter-btn:hover { background: var(--primary); color: white; border-color: var(--primary); }
        .sort-select { padding: 12px 20px; border: 2px solid #e5e7eb; border-radius: 12px; background: white; font-weight: 600; }
        
        /* Grille Articles */
        .section { padding: 80px 20px; }
        .products-grid { max-width: 1400px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 35px; }
        .product-card { background: white; border-radius: 24px; overflow: hidden; box-shadow: 0 15px 50px rgba(0,0,0,0.08); transition: all 0.4s; cursor: pointer; }
        .product-card:hover { transform: translateY(-12px) rotateX(5deg); box-shadow: 0 35px 90px rgba(0,0,0,0.15); }
        .product-image { width: 100%; height: 300px; object-fit: cover; transition: transform 0.6s; }
        .product-card:hover .product-image { transform: scale(1.08); }
        .product-info { padding: 35px 30px 30px; position: relative; }
        .category-badge { position: absolute; top: 20px; right: 20px; background: var(--primary); color: white; padding: 8px 16px; border-radius: 20px; font-size: 0.85rem; font-weight: 700; }
        .product-title { font-size: 1.5rem; font-weight: 800; color: #1f2937; margin-bottom: 12px; line-height: 1.3; }
        .product-brand { color: #6b7280; font-size: 1rem; margin-bottom: 20px; font-weight: 600; }
        .product-price { font-size: 2.2rem; font-weight: 900; color: var(--primary); margin-bottom: 25px; }
        .product-actions { display: flex; gap: 15px; }
        .btn-like { width: 60px; height: 60px; border: none; border-radius: 50%; background: #f8fafc; color: #9ca3af; font-size: 1.6rem; cursor: pointer; transition: all 0.3s; box-shadow: 0 6px 20px rgba(0,0,0,0.1); }
        .btn-like.liked { background: #f97316; color: white; }
        .btn-cart { flex: 1; padding: 18px 25px; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; border: none; border-radius: 16px; font-size: 1.1rem; font-weight: 800; cursor: pointer; transition: all 0.3s; box-shadow: 0 10px 30px rgba(16,185,129,0.4); }
        .btn-cart:hover { transform: translateY(-3px); box-shadow: 0 20px 45px rgba(16,185,129,0.5); }
        
        /* Pagination */
        .pagination { display: flex; justify-content: center; gap: 12px; margin-top: 80px; flex-wrap: wrap; }
        .page-btn { padding: 14px 20px; background: white; color: #374151; border: 2px solid #e5e7eb; border-radius: 12px; font-weight: 700; cursor: pointer; transition: all 0.3s; min-width: 50px; }
        .page-btn.active, .page-btn:hover { background: var(--primary); color: white; border-color: var(--primary); transform: translateY(-2px); }
        
        @media (max-width: 1024px) { .products-grid { grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; } }
        @media (max-width: 768px) { .nav-links { gap: 15px; font-size: 14px; } .filters-container { flex-direction: column; align-items: stretch; } .hero-stats { flex-direction: column; gap: 20px; } .product-actions { flex-direction: column; } }
    </style>
{% endblock %}

{% block body %}
<!-- Header Animalove -->
<header class="header">
    <nav class="nav-container">
        <a href="" class="logo">üêæ Animalove</a>
        <ul class="nav-links">
            <li><a href="{{ path('home') }}">Accueil</a></li>
   
            <li><a href="#">Panier ({{ cartCount|default(0) }})</a></li>
            <li><a href="{{ path('app_login') }}">Deconnecter</a></li>
        </ul>
    </nav>
</header>

<!-- Hero Cat√©gorie -->
<section class="hero">
    <h1>{{ categorie.nomCategorie }}</h1>
    <div class="hero-stats">
        <div class="stat">
            <span class="stat-number">{{ listeArticles|length }}</span>
            <span>Produits</span>
        </div>
        <div class="stat">
            <span class="stat-number">Actif</span>
            <span>Statut</span>
        </div>
    </div>
</section>

<!-- Filtres -->
<section class="filters">
    <div class="filters-container">
        <div class="category-breadcrumb">
             <h3>üè†  Produits</h3>
        </div>
        <div class="filters-group">
            <button class="filter-btn active">Tous</button>
            <button class="filter-btn">En stock</button>
            <button class="filter-btn">Promo</button>
            <select class="sort-select">
                <option>Trier par popularit√©</option>
                <option>Prix croissant</option>
                <option>Prix d√©croissant</option>
            </select>
        </div>
    </div>
</section>

<!-- Grille Articles -->
<section class="section">
    <div class="products-grid">
        {% for article in listeArticles %}
        <a href="{{ path('Article_showUser', {'id': article.id}) }}" class="product-card">
            <div class="category-badge">{{ article.categorie.nomCategorie }}</div>
            {% if article.imageName %}
                <img src="{{ asset('images/products/' ~ article.imageName) }}" alt="{{ article.libelle }}" class="product-image">
            {% else %}
                <div class="product-image" style="background:linear-gradient(135deg,#f0fdf4,#ecfdf5);display:flex;align-items:center;justify-content:center;font-size:4rem;color:#10b981;">üêæ</div>
            {% endif %}
            <div class="product-info">
                <h3 class="product-title">{{ article.libelle }}</h3>
                <div class="product-brand">{{ article.marque }}</div>
                <div class="product-price">{{ article.price }} TND</div>
                <div class="product-actions">
                    <button class="btn-like" onclick="event.preventDefault();toggleLike(this)">ü§ç</button>
                    <button class="btn-cart" onclick="event.preventDefault();addToCart(this)">Panier</button>
                    
                </div>
            </div>
        </a>
        {% else %}
        <div style="grid-column:1/-1;text-align:center;padding:100px 40px;background:white;border-radius:24px;box-shadow:0 20px 60px rgba(0,0,0,0.1);">
            <div style="font-size:6rem;color:#cbd5e1;margin-bottom:30px;">üêæ</div>
            <h2 style="font-size:2.5rem;color:#475569;margin-bottom:15px;">Aucun produit</h2>
            <p style="color:#6b7280;font-size:1.2rem;">Cette cat√©gorie est vide pour le moment</p>
        </div>
        {% endfor %}
    </div>
    
    <!-- Pagination -->
  
</section>

<script>
function toggleLike(button) {
    button.classList.toggle('liked');
    button.innerHTML = button.classList.contains('liked') ? '‚ù§Ô∏è' : 'ü§ç';
}

function addToCart(button) {
    const original = button.innerHTML;
    button.innerHTML = '‚úÖ Ajout√© !';
    button.style.background = '#f97316';
    setTimeout(() => {
        button.innerHTML = original;
        button.style.background = '';
    }, 2000);
}
</script>
{% endblock %}
